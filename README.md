# タワーディフェンスゲーム 🏰

戦略的多様タワーシステムを備えた高性能タワーディフェンスゲーム

## ✨ 主要機能

- **5種類の戦略的タワータイプ** - ベーシック/ラピッド/ヘビー/スナイパー/スプラッシュ
- **高度ターゲティングシステム** - 7種類の標的選択戦略
- **1000発同時ミサイル処理** - 空間分割衝突判定（80%+最適化）
- **描画バッチング最適化** - Graphics→Sprite自動変換
- **ウェーブシステム** - 5種類敵タイプ・ボスウェーブ・段階的難易度調整
- **タワーアップグレードUI** - 選択・情報表示・アップグレード・売却システム
- **パーティクルエフェクト** - 1000パーティクル対応の爆発・火花エフェクト
- **リアルタイムデバッグGUI** - プロフェッショナルな監視・テストシステム

## 🚀 クイックスタート

### 1. 依存関係のインストール

```bash
npm install
```

### 2. 開発サーバー起動

```bash
npm run dev
```

ブラウザで `http://localhost:3000` にアクセス

### 3. ゲーム操作

- **左クリック**: タワー配置・選択
- **Ctrl+D**: デバッグGUI表示/非表示
- **ブラウザコンソール**: 高度なテストコマンド使用可能

## 🏗️ プロジェクト構造

```
src/
├── game/                      # ゲームコア
├── entities/                  # エンティティシステム（ECS）
├── systems/                   # ゲームシステム
├── rendering/                 # 描画最適化システム
├── utils/                     # ユーティリティ（プール・空間分割）
├── ui/                        # ユーザーインターフェース
└── effects/                   # 視覚エフェクト
```

## 🎯 技術スタック

- **TypeScript** - 型安全性とコード品質
- **PixiJS** - 高パフォーマンス2Dレンダリング
- **Vite** - 高速開発・ビルドツール
- **ECS（Entity Component System）** - 効率的大量オブジェクト管理

## 🎮 ゲームシステム

### タワータイプ

- **🏢 ベーシック**: バランス重視（25ダメージ・2発/秒・150射程）
- **🔥 ラピッド**: 高速連射（15ダメージ・6発/秒・120射程）
- **💣 ヘビー**: 大火力（80ダメージ・0.8発/秒・180射程）
- **🎯 スナイパー**: 超長射程（100ダメージ・1発/秒・300射程）
- **💥 スプラッシュ**: 範囲攻撃（40ダメージ・1.5発/秒・140射程）

### 敵タイプ

- **👹 ベーシック**: HP100・速度50・標準型
- **💨 スピード**: HP60・速度90・高機動力
- **🛡️ ヘビー**: HP300・速度25・ミサイル耐性20%
- **🔰 アーマー**: HP200・速度40・ミサイル耐性40%・回復能力
- **👑 ボス**: HP1000・速度30・多重耐性・強力な回復能力

## ⚡ パフォーマンス最適化

- **オブジェクトプール**: ガベージコレクション完全回避
- **空間分割衝突判定**: 80%+の計算量削減
- **描画バッチング**: 50エンティティ超過で自動Graphics→Sprite変換
- **リアルタイム監視**: FPS・メモリ・エンティティ数の包括的追跡

## 🎯 デバッグGUI

**Ctrl+D**でアクセス可能な高機能デバッグシステム

- **パフォーマンス監視**: FPS・エンティティ数・メモリ使用量
- **プール統計**: オブジェクトプール使用率・効率表示
- **ミサイルテスト**: 1発〜2000発の負荷テスト
- **ウェーブ制御**: 敵タイプテスト・ウェーブ強制開始
- **タワーテスト**: 各タワータイプの配置テスト

## 🧪 コンソールコマンド

```javascript
// ミサイルテスト
game.testMassiveMissileBarrage(1000)     // 1000発一斉発射
game.testContinuousMissileStorm(100, 30) // 毎秒100発・30秒間

// パフォーマンステスト
game.benchmarkCollisionSystem(500)       // 空間分割効果測定
game.benchmarkRendering(10)              // 描画パフォーマンステスト

// タワー操作
game.getGameSystem().createTower(x, y, 'sniper') // スナイパータワー配置

// ウェーブ制御
game.forceStartNextWave()                 // 次ウェーブ強制開始
game.testSpecificEnemyType('boss')       // ボス敵テスト生成
```

## 📋 開発コマンド

```bash
npm run dev         # 開発サーバー起動（localhost:3000）
npm run build       # プロダクションビルド
npm run preview     # ビルド後のプレビュー
npm run lint        # ESLintによるコード品質チェック
npm run lint:fix    # ESLintによる自動修正
npm run type-check  # TypeScriptの型チェック
```

## 🎯 実装完了機能

✅ **空間分割衝突判定**（80%+計算量削減）  
✅ **パーティクルエフェクトシステム**（1000パーティクル対応）  
✅ **描画バッチング**（Graphics→Sprite自動最適化）  
✅ **複数タワータイプシステム**（5種類・7戦略・統計追跡）  
✅ **ウェーブシステム**（段階的難易度・5敵タイプ・ボスウェーブ）  
✅ **ウェーブシステムUI**（進行表示・プレビュー・制御）  
✅ **タワーアップグレードUIシステム**（選択・情報表示・操作）  

## 🚀 次の開発課題

- 💰 **経済システム拡張**: より複雑な収支バランス・特殊通貨
- 🗺️ **マップシステム**: 複数ステージ・パス設計ツール

## 📄 ライセンス

MIT License

---

**🎮 高性能タワーディフェンス - 戦略と技術の融合**